import{_ as u}from"./plugin-vue_export-helper-c27b6911.js";import{r as c,o as r,c as k,b as n,e as o,w as a,d as s,f as d}from"./app-49149863.js";const m="/assets/images/geoscience/cn/vivid_layers.png",b={},v=n("h2",{id:"report",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#report","aria-hidden":"true"},"#"),s(" Report")],-1),_={class:"hint-container details"},g=n("summary",null,"Details",-1),y=n("h2",{id:"the-whole-process",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#the-whole-process","aria-hidden":"true"},"#"),s(" The whole process")],-1),w=n("h3",{id:"process-graph",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#process-graph","aria-hidden":"true"},"#"),s(" Process Graph")],-1),f=d('<h3 id="get-the-key" tabindex="-1"><a class="header-anchor" href="#get-the-key" aria-hidden="true">#</a> Get the Key</h3><p>Details refer to your own account</p><h3 id="download-data" tabindex="-1"><a class="header-anchor" href="#download-data" aria-hidden="true">#</a> Download data</h3><h3 id="analysis" tabindex="-1"><a class="header-anchor" href="#analysis" aria-hidden="true">#</a> Analysis</h3><p>Using WFS client for viewing the layers first. Details refer the picture below<br><img src="'+m+'" alt="The layers of vivid data" loading="lazy"></p><p>According to the picture above, there are 9 layers totally. The meaning for each layers is listed below.</p><table><thead><tr><th>layer</th><th>Meaning</th></tr></thead><tbody><tr><td>BasicFeature</td><td>-</td></tr><tr><td>CollectedContent</td><td>-</td></tr><tr><td>FinishedFeature</td><td>-</td></tr><tr><td>ImageInMosaicFeature</td><td>-</td></tr><tr><td>Maxar Catalog Mosaic Products</td><td>The big data zone</td></tr><tr><td>Maxar Catalog Mosaic Seamlines</td><td>vivid masic line, classed by product line, producing line version etc.</td></tr><tr><td>Maxar Catalog Mosaic Tiles</td><td>The block related with vivid product.(irrelevant)</td></tr><tr><td>StandardFeature</td><td>-</td></tr><tr><td>TileMatrixFeature</td><td>-</td></tr></tbody></table><p>According to our needs, all the data related with Mosaic need to be downloaded and analysied.</p><h3 id="download" tabindex="-1"><a class="header-anchor" href="#download" aria-hidden="true">#</a> Download</h3><h4 id="crawler-code" tabindex="-1"><a class="header-anchor" href="#crawler-code" aria-hidden="true">#</a> Crawler code</h4><p>The data is released via WFS service. A web crawler will be implemented for retriving the data.</p><p>Because of the whole world data is too large to download at the same time. The world need to be splited into several blocks, then we should download the data from according the area of each block.</p>',12),h=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(" requests "),n("span",{class:"token keyword"},"as"),s(` req
`),n("span",{class:"token keyword"},"import"),s(` random
`),n("span",{class:"token keyword"},"import"),s(" datetime "),n("span",{class:"token keyword"},"as"),s(` dt
`),n("span",{class:"token keyword"},"import"),s(` sys
`),n("span",{class:"token keyword"},"import"),s(` math
`),n("span",{class:"token keyword"},"import"),s(` threading
`),n("span",{class:"token keyword"},"import"),s(` time
`),n("span",{class:"token keyword"},"import"),s(` json
`),n("span",{class:"token keyword"},"import"),s(` sys
`),n("span",{class:"token keyword"},"import"),s(` os
`),n("span",{class:"token keyword"},"import"),s(` gzip
sys`),n("span",{class:"token punctuation"},"."),s("path"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'.'"),n("span",{class:"token punctuation"},")"),s(`
`),n("span",{class:"token keyword"},"from"),s(" tile_util "),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(`
`),n("span",{class:"token keyword"},"from"),s(" thread_util "),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(`

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"dg_downloader"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__init__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" connectid"),n("span",{class:"token punctuation"},","),s(" type_name"),n("span",{class:"token punctuation"},","),s(" version"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'2.0.0'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"format"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},"'application%2Fjson'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("base_url "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'https://securewatch.digitalglobe.com'"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("tile_obj "),n("span",{class:"token operator"},"="),s(" tile_util"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__connectid__ "),n("span",{class:"token operator"},"="),s(` connectid
        self`),n("span",{class:"token punctuation"},"."),s("__type_name__ "),n("span",{class:"token operator"},"="),s(` type_name
        self`),n("span",{class:"token punctuation"},"."),s("__version__   "),n("span",{class:"token operator"},"="),s(` version
        self`),n("span",{class:"token punctuation"},"."),s("__format__    "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"format"),s(`
        
        `),n("span",{class:"token comment"},"# 模板参数说明"),s(`
        `),n("span",{class:"token comment"},"# @param connectId the connect id"),s(`
        `),n("span",{class:"token comment"},"# @param type_name layername"),s(`
        `),n("span",{class:"token comment"},"# @param lat_min   the minimum latitude"),s(`
        `),n("span",{class:"token comment"},"# @param lng_min   the minimum longtitude"),s(`
        `),n("span",{class:"token comment"},"# @param lat_max   the maximum latitude"),s(`
        `),n("span",{class:"token comment"},"# @param lng_max   the minimum longtitude"),s(`
        `),n("span",{class:"token comment"},"# @param version   the ogc service version (such as：2.0.0)"),s(`
        `),n("span",{class:"token comment"},"# @param format    the output format，(such as：application/json)"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("wfs_template "),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("base_url "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'/catalogservice/wfsaccess?CONNECTID={connectId}&SERVICE=WFS&REQUEST=GetFeature&VERSION={version}&TYPENAMES={type_name}&TYPENAME={type_name}&STARTINDEX=0&COUNT=1000000&SRSNAME=urn:ogc:def:crs:EPSG::4326&BBOX={lat_min},{lng_min},{lat_max},{lng_max},urn:ogc:def:crs:EPSG::4326&outputFormat={format}'"),s(`

    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__del__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"pass"),s(`
        
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"downlaod"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" base_tile"),n("span",{class:"token punctuation"},","),s(" target_level"),n("span",{class:"token punctuation"},","),s(" filename"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token triple-quoted-string string"},`'''
        @param base_tile    The base tile()
        @param target_level
        @param filename
        The data is retrived from server block by block. The base_tile will determine a big blog for downloading, the target_level define which level will continue split the base_tile.

        '''`),s(`
        self`),n("span",{class:"token punctuation"},"."),s("_base_tile_ "),n("span",{class:"token operator"},"="),s(` base_tile
        sub_tiles `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("tile_obj"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("base_tile"),n("span",{class:"token punctuation"},","),s(" target_level"),n("span",{class:"token punctuation"},")"),s(`
        output_file `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token string"},"'log'"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token builtin"},"open"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("filename"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},".geojson'")]),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'w'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token string"},"'locker'"),n("span",{class:"token punctuation"},":"),s(" threading"),n("span",{class:"token punctuation"},"."),s("Lock"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
        
        th_pool `),n("span",{class:"token operator"},"="),s(" thread_util"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},")"),s(`
        
        `),n("span",{class:"token keyword"},"for"),s(" sub_tile "),n("span",{class:"token keyword"},"in"),s(" sub_tiles"),n("span",{class:"token punctuation"},":"),s(`
            lng_min`),n("span",{class:"token punctuation"},","),s(" lng_max"),n("span",{class:"token punctuation"},","),s(" lat_min"),n("span",{class:"token punctuation"},","),s(" lat_max  "),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("tile_obj"),n("span",{class:"token punctuation"},"."),s("getBoundingBox"),n("span",{class:"token punctuation"},"("),s("sub_tile"),n("span",{class:"token punctuation"},")"),s(`
            version   `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s(`__version__
            `),n("span",{class:"token builtin"},"format"),s("    "),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s(`__format__
            type_name `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s(`__type_name__
            connectId `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s(`__connectid__
            
            url `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"eval"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},`f'f"`),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("self"),n("span",{class:"token punctuation"},"."),s("wfs_template"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},`"'`)]),n("span",{class:"token punctuation"},")"),s(`
            req_param `),n("span",{class:"token operator"},"="),s(` sub_tile
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("url"),n("span",{class:"token punctuation"},")"),s(`
            th_pool`),n("span",{class:"token punctuation"},"."),s("process"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("thread_req"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),s("url"),n("span",{class:"token punctuation"},","),s(" req_param"),n("span",{class:"token punctuation"},","),s(" output_file"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(" req_param"),n("span",{class:"token punctuation"},")"),s(`
        th_pool`),n("span",{class:"token punctuation"},"."),s("wait"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"with"),s(" output_file"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'locker'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},":"),s(`
            output_file`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'log'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"thread_req"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" url"),n("span",{class:"token punctuation"},","),s(" req_param"),n("span",{class:"token punctuation"},","),s(" output_file"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        ret `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("getRespInfo"),n("span",{class:"token punctuation"},"("),s("url"),n("span",{class:"token punctuation"},","),s(" req_param"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"with"),s(" output_file"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'locker'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},":"),s(`
            output_file`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'log'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("write"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("ret"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"\\n'")]),n("span",{class:"token punctuation"},")"),s(`
        
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getRespInfo"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" url"),n("span",{class:"token punctuation"},","),s(" req_param"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        resp `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),s(`
        rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),s(`
        `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
            headers`),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),n("span",{class:"token punctuation"},"}"),s(`
            resp `),n("span",{class:"token operator"},"="),s(" req"),n("span",{class:"token punctuation"},"."),s("get"),n("span",{class:"token punctuation"},"("),s("url"),n("span",{class:"token punctuation"},","),s(" headers "),n("span",{class:"token operator"},"="),s(" headers"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"except"),s(" Exception "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"pass"),s(`
        `),n("span",{class:"token keyword"},"finally"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"if"),s(" resp"),n("span",{class:"token punctuation"},":"),s(`
                resp_code `),n("span",{class:"token operator"},"="),s(" resp"),n("span",{class:"token punctuation"},"."),s(`status_code
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token number"},"200"),s(),n("span",{class:"token operator"},"=="),s(" resp_code"),n("span",{class:"token punctuation"},":"),s(`
                    `),n("span",{class:"token comment"},"#print(resp.text)"),s(`
                    content `),n("span",{class:"token operator"},"="),s(" resp"),n("span",{class:"token punctuation"},"."),s(`text
                    `),n("span",{class:"token comment"},"#content = gzip.decompress(resp.content).decode()"),s(`
                    rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("req_param"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"|"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("content"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),s(`
                resp`),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` rc
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),x=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` math

`),n("span",{class:"token triple-quoted-string string"},`'''
The code of quad
-------
3  |  2
-------
0  |  1
-------
The first layer of the earth will be split into 
| 0 | 1 |


---------------------------------------------------
The code of WMTS will start from the left-top corner.
The zero layer will split into

| 0-0-0 | 0-1-0 |

The first layer 
| 1-0-0 | 1-1-0 | 1-2-0 | 1-3-0 |
---------------------------------
| 1-0-1 | 1-1-1 | 1-2-1 | 1-3-1 |
'''`),s(`
`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"tile_util"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__getGeojsonTemplate__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"{"),s(`
            `),n("span",{class:"token string"},'"type"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"FeatureCollection"'),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},":"),s(" name"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token string"},'"crs"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token string"},'"type"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token string"},'"properties"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token string"},'"name"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"urn:ogc:def:crs:OGC:1.3:CRS84"'),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
            `),n("span",{class:"token string"},'"features"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token punctuation"},"}"),s(`
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"Quad2WMTS"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        tilew `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"360"),n("span",{class:"token operator"},"/"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token operator"},"**"),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
        centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
        `),n("span",{class:"token keyword"},"for"),s(" i "),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token builtin"},"range"),n("span",{class:"token punctuation"},"("),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            tilew `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"360"),n("span",{class:"token operator"},"/"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token operator"},"**"),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token operator"},"+"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"if"),s(" i "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" quad"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"90"),s(`
                    centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
                `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"90"),s(`
                    centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
            `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" quad"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" quad"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'1'"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" quad"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'2'"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" quad"),n("span",{class:"token punctuation"},"["),s("i"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'3'"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
        wmtsl `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),s(`
        wmts_tilew `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"180"),n("span",{class:"token operator"},"/"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token operator"},"**"),s("wmtsl"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"#print(centerx, centery, wmts_tilew)"),s(`
        tilex `),n("span",{class:"token operator"},"="),s(" math"),n("span",{class:"token punctuation"},"."),s("floor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),s("centerx"),n("span",{class:"token operator"},"+"),n("span",{class:"token number"},"180"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"/"),s("wmts_tilew"),n("span",{class:"token punctuation"},")"),s(`
        tiley `),n("span",{class:"token operator"},"="),s(" math"),n("span",{class:"token punctuation"},"."),s("floor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token operator"},"-"),n("span",{class:"token punctuation"},"("),s("centery"),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"90"),n("span",{class:"token punctuation"},")"),n("span",{class:"token operator"},"/"),s("wmts_tilew"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" wmtsl"),n("span",{class:"token punctuation"},","),s(" tilex"),n("span",{class:"token punctuation"},","),s(` tiley
    
    `),n("span",{class:"token comment"},"# Get the sub block list of quad until the specified level"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"<"),s(" level"),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},":"),s(`
            rc`),n("span",{class:"token punctuation"},"."),s("extend"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token operator"},"+"),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            rc`),n("span",{class:"token punctuation"},"."),s("extend"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token operator"},"+"),n("span",{class:"token string"},"'1'"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            rc`),n("span",{class:"token punctuation"},"."),s("extend"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token operator"},"+"),n("span",{class:"token string"},"'2'"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            rc`),n("span",{class:"token punctuation"},"."),s("extend"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token operator"},"+"),n("span",{class:"token string"},"'3'"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"return"),s(` rc
        `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token punctuation"},"["),s("quad "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},","),s(" quad "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'1'"),n("span",{class:"token punctuation"},","),s(" quad "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'2'"),n("span",{class:"token punctuation"},","),s(" quad "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token string"},"'3'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"]"),s(`
    
    `),n("span",{class:"token comment"},"# Get the quad number on specified level according to latitude and longtitude."),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getTileQuad"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" lng"),n("span",{class:"token punctuation"},","),s(" lat"),n("span",{class:"token punctuation"},","),s(" level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        minx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"180"),s(`
        maxx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"180"),s(`
        miny `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"90"),s(`
        maxy `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"90"),s(`
        
        centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
        centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
        tilew `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"180"),s(`
        ret `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"''"),s(`
        `),n("span",{class:"token keyword"},"for"),s(" l "),n("span",{class:"token keyword"},"in"),s(),n("span",{class:"token builtin"},"range"),n("span",{class:"token punctuation"},"("),s("level"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"if"),s(" l "),n("span",{class:"token operator"},"<="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" lng "),n("span",{class:"token operator"},"<="),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"90"),s(`
                    centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'0'"),s(`
                `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                    centerx `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"90"),s(`
                    centery `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'1'"),s(`
            `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" lng "),n("span",{class:"token operator"},"<"),s(" centerx "),n("span",{class:"token keyword"},"and"),s(" lat "),n("span",{class:"token operator"},"<"),s(" centery"),n("span",{class:"token punctuation"},":"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'0'"),s(`
                    centerx `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"elif"),s(" lng "),n("span",{class:"token operator"},">"),s(" centerx "),n("span",{class:"token keyword"},"and"),s(" lat "),n("span",{class:"token operator"},"<"),s(" centery"),n("span",{class:"token punctuation"},":"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'1'"),s(`
                    centerx `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"elif"),s(" lng "),n("span",{class:"token operator"},">"),s(" centerx "),n("span",{class:"token keyword"},"and"),s(" lat "),n("span",{class:"token operator"},">"),s(" centery"),n("span",{class:"token punctuation"},":"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'2'"),s(`
                    centerx `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                    ret `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token string"},"'3'"),s(`
                    centerx `),n("span",{class:"token operator"},"-="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
                    centery `),n("span",{class:"token operator"},"+="),s(" tilew"),n("span",{class:"token operator"},"/"),n("span",{class:"token number"},"2"),s(`
            tilew `),n("span",{class:"token operator"},"/="),s(),n("span",{class:"token number"},"2"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` ret
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getBoundingBox"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token triple-quoted-string string"},`'''
        Get the bounding box of quad block
        '''`),s(`
        l`),n("span",{class:"token punctuation"},","),s(" x"),n("span",{class:"token punctuation"},","),s(" y "),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("Quad2WMTS"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),s(`
        tilew  `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"180"),n("span",{class:"token operator"},"/"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token operator"},"**"),s("l"),n("span",{class:"token punctuation"},")"),s(`
        maxx `),n("span",{class:"token operator"},"="),s(" x"),n("span",{class:"token operator"},"*"),s("tilew "),n("span",{class:"token operator"},"+"),s(" tilew "),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token number"},"180"),s(`
        minx `),n("span",{class:"token operator"},"="),s(" x"),n("span",{class:"token operator"},"*"),s("tilew "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"0"),s(),n("span",{class:"token operator"},"-"),n("span",{class:"token number"},"180"),s(`
        maxy `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"90"),s(),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token punctuation"},"("),s("y"),n("span",{class:"token operator"},"*"),s("tilew "),n("span",{class:"token operator"},"+"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),s(`
        miny `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"90"),s(),n("span",{class:"token operator"},"-"),s(),n("span",{class:"token punctuation"},"("),s("y"),n("span",{class:"token operator"},"*"),s("tilew "),n("span",{class:"token operator"},"+"),s(" tilew"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(" minx"),n("span",{class:"token punctuation"},","),s(" maxx"),n("span",{class:"token punctuation"},","),s(" miny"),n("span",{class:"token punctuation"},","),s(` maxy 
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getGeojson"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},","),s(" targetLevel "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token triple-quoted-string string"},`'''
        Get the geojson of quad if the targetLevel is not specified.
        Get the geojson for all sub block until targetLevel regard as quad as a base block
        '''`),s(`
        rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" targetLevel"),n("span",{class:"token punctuation"},":"),s(`
            rc `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("__getGeojsonTemplate__"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("quad"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"-"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("targetLevel"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),n("span",{class:"token punctuation"},")"),s(`
            subs `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("getWMTSSubTile"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},","),s(" targetLevel"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"for"),s(" i "),n("span",{class:"token keyword"},"in"),s(" subs"),n("span",{class:"token punctuation"},":"),s(`
                rc`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'features'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("__getFeatureJson__"),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
            rc `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("__getGeojsonTemplate__"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("quad"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),n("span",{class:"token punctuation"},")"),s(`
            rc`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'features'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("__getFeatureJson__"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` rc
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__getFeatureJson__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token triple-quoted-string string"},`'''
        Get the geojson of quad
        '''`),s(`
        ret `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
                `),n("span",{class:"token string"},'"type"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"Feature"'),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token string"},'"properties"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token builtin"},"dict"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(`
                `),n("span",{class:"token string"},'"geometry"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token punctuation"},"{"),s(`
                    `),n("span",{class:"token string"},'"type"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},'"Polygon"'),n("span",{class:"token punctuation"},","),s(`
                    `),n("span",{class:"token string"},'"coordinates"'),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token punctuation"},"}"),s(`
            `),n("span",{class:"token punctuation"},"}"),s(`
        minx`),n("span",{class:"token punctuation"},","),s(" maxx"),n("span",{class:"token punctuation"},","),s(" miny"),n("span",{class:"token punctuation"},","),s(" maxy  "),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("getBoundingBox"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),s(`
        ret`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'geometry'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'coordinates'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"["),s("minx"),n("span",{class:"token punctuation"},","),s(" miny"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),s("minx"),n("span",{class:"token punctuation"},","),s(" maxy"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),s("maxx"),n("span",{class:"token punctuation"},","),s(" maxy"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),s("maxx"),n("span",{class:"token punctuation"},","),s(" miny"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"["),s("minx"),n("span",{class:"token punctuation"},","),s(" miny"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`
        ret`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'properties'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'quad'"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(` quad
        ret`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'properties'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'wmts'"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("Quad2WMTS"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` ret
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),q=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` threading

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"thread_util"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__init__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" thread_max "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__thread_pool__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__thread_max__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"1"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" thread_max"),n("span",{class:"token punctuation"},":"),s(`
            self`),n("span",{class:"token punctuation"},"."),s("__thread_max__ "),n("span",{class:"token operator"},"="),s(` thread_max
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"process"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" target"),n("span",{class:"token punctuation"},","),s(" args"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        th `),n("span",{class:"token operator"},"="),s(" threading"),n("span",{class:"token punctuation"},"."),s("Thread"),n("span",{class:"token punctuation"},"("),s("target"),n("span",{class:"token operator"},"="),s("target"),n("span",{class:"token punctuation"},","),s(" args"),n("span",{class:"token operator"},"="),s("args"),n("span",{class:"token punctuation"},","),s(" name"),n("span",{class:"token operator"},"="),s(" name"),n("span",{class:"token punctuation"},")"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__thread_pool__"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("th"),n("span",{class:"token punctuation"},")"),s(`
        th`),n("span",{class:"token punctuation"},"."),s("start"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__update_thread__"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"wait"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__update_thread__"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),s(`
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__update_thread__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" count "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        c `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s(`__thread_max__
        `),n("span",{class:"token keyword"},"if"),s(" count"),n("span",{class:"token punctuation"},":"),s(`
            c `),n("span",{class:"token operator"},"="),s(` count
        `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},"."),s("__thread_pool__"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(" c"),n("span",{class:"token punctuation"},":"),s(`
            dead_pool `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),s(`
            `),n("span",{class:"token keyword"},"for"),s(" th "),n("span",{class:"token keyword"},"in"),s(" self"),n("span",{class:"token punctuation"},"."),s("__thread_pool__"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token keyword"},"not"),s(" th"),n("span",{class:"token punctuation"},"."),s("is_alive"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
                    dead_pool`),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("th"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"for"),s(" item "),n("span",{class:"token keyword"},"in"),s(" dead_pool"),n("span",{class:"token punctuation"},":"),s(`
                self`),n("span",{class:"token punctuation"},"."),s("__thread_pool__"),n("span",{class:"token punctuation"},"."),s("remove"),n("span",{class:"token punctuation"},"("),s("item"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token comment"},"#time.sleep(0.1)"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),T=n("h4",{id:"retrive-data",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#retrive-data","aria-hidden":"true"},"#"),s(" Retrive data")],-1),j=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token comment"},"# DigitalGlobe:FinishedFeature              ：-"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:BasicFeature                 ：-"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:CollectedContent             ：-"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:ImageInMosaicFeature         ：-"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:MaxarCatalogMosaicProducts   ：Product area（such as：VIVID_AS33_20Q4）"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:MaxarCatalogMosaicSeamlines  ：seamlines for vivid"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:MaxarCatalogMosaicTiles      ：- "),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:StandardFeature              ：unable load  504"),s(`
`),n("span",{class:"token comment"},"# DigitalGlobe:TileMatrixFeature            ：unable load  500"),s(`
`),n("span",{class:"token keyword"},"if"),s(" __name__ "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'__main__'"),n("span",{class:"token punctuation"},":"),s(`
    connect_id `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"''"),s("      "),n("span",{class:"token comment"},"#use your own connect_id"),s(`
    type_name  `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'DigitalGlobe:MaxarCatalogMosaicTiles'"),s("   "),n("span",{class:"token comment"},"#图层名称"),s(`
    
    tile_obj `),n("span",{class:"token operator"},"="),s(" tile_util"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`                
    `),n("span",{class:"token comment"},"#quad = tile_obj.getTileQuad(116, 39, 8)"),s(`
    quad `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'0'"),s(`
    target_l `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"9"),s(`
    dg_dobj `),n("span",{class:"token operator"},"="),s(" dg_downloader"),n("span",{class:"token punctuation"},"("),s("connect_id"),n("span",{class:"token punctuation"},","),s(" type_name"),n("span",{class:"token punctuation"},")"),s(`
    dg_dobj`),n("span",{class:"token punctuation"},"."),s("downlaod"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},","),s(" target_l"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'MaxarCatalogMosaicTiles'"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),S=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"with"),s(),n("span",{class:"token builtin"},"open"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'D:\\\\aa.geojson'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'w'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(" fw"),n("span",{class:"token punctuation"},":"),s(`
    fw`),n("span",{class:"token punctuation"},"."),s("write"),n("span",{class:"token punctuation"},"("),s("json"),n("span",{class:"token punctuation"},"."),s("dumps"),n("span",{class:"token punctuation"},"("),s("tile_obj"),n("span",{class:"token punctuation"},"."),s("getGeojson"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'0'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),M=n("h3",{id:"parse-data",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#parse-data","aria-hidden":"true"},"#"),s(" Parse data")],-1),A=n("p",null,"There are several properties for each feature of the retrieved data from the server. Two things need to be done for preprocessing before usage.",-1),C=n("ul",null,[n("li",null,"The first one is to remove the duplication and"),n("li",null,"the second one is to export all prepared data to postgis.")],-1),G=n("h4",{id:"remove-duplication",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#remove-duplication","aria-hidden":"true"},"#"),s(" Remove Duplication")],-1),F=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` os
`),n("span",{class:"token keyword"},"import"),s(` sys
`),n("span",{class:"token keyword"},"import"),s(` argparse
`),n("span",{class:"token keyword"},"import"),s(` json

`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"MaxarCatalogMosaicProducts_Parser"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__init__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" tbl "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__tbl__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},"'MaxarCatalogMosaicProducts'"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" tbl"),n("span",{class:"token punctuation"},":"),s(`
            self`),n("span",{class:"token punctuation"},"."),s("__tbl__ "),n("span",{class:"token operator"},"="),s(` tbl
        
        `),n("span",{class:"token comment"},"# Template arguments"),s(`
        `),n("span",{class:"token comment"},"# obj['quad']               the data related download tile"),s(`
        `),n("span",{class:"token comment"},"# obj['id']                 feature id"),s(`
        `),n("span",{class:"token comment"},"# obj['product_name']       "),s(`
        `),n("span",{class:"token comment"},"# obj['product_line_name']"),s(`
        `),n("span",{class:"token comment"},"# obj['collect_date_min']"),s(`
        `),n("span",{class:"token comment"},"# obj['collect_date_max']"),s(`
        `),n("span",{class:"token comment"},"# obj['product_id']"),s(`
        `),n("span",{class:"token comment"},"# obj['publish_date']"),s(`
        `),n("span",{class:"token comment"},"# obj['resolution_meters']"),s(`
        `),n("span",{class:"token comment"},"# obj['geom']"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__insert_template_prefix__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'insert into "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("self"),n("span",{class:"token punctuation"},"."),s("__tbl__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"(quad, id, product_name, product_line_name, collect_date_min, collect_date_max, product_id, publish_date, resolution_meters, geom)'")]),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__insert_template_suffix__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},`"values('{obj['quad']}', '{obj['id']}', '{obj['product_name']}', '{obj['product_line_name']}', '{obj['collect_date_min']}', '{obj['collect_date_max']}', '{obj['product_id']}', '{obj['publish_date']}', {obj['resolution_meters']}, {obj['geom']});"`),s(`
        self`),n("span",{class:"token punctuation"},"."),s("__insert_template__ "),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("self"),n("span",{class:"token punctuation"},"."),s("__insert_template_prefix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"}," "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("self"),n("span",{class:"token punctuation"},"."),s("__insert_template_suffix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),s(`
        
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getSql"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" quad"),n("span",{class:"token punctuation"},","),s(" feature"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        obj `),n("span",{class:"token operator"},"="),s(" feature"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'properties'"),n("span",{class:"token punctuation"},"]"),s(`
        obj`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'quad'"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(` quad
        obj`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'id'"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(" feature"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'id'"),n("span",{class:"token punctuation"},"]"),s(`
        obj`),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'geom'"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},`f"ST_GeomFromGeoJSON('`),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("json"),n("span",{class:"token punctuation"},"."),s("dumps"),n("span",{class:"token punctuation"},"("),s("feature"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'geometry'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},`')"`)]),s(`
        `),n("span",{class:"token comment"},`#sql = eval(f'f"{self.__insert_template__}"')`),s(`
        
        __insert_template_prefix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'insert into "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("self"),n("span",{class:"token punctuation"},"."),s("__tbl__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"('")]),s(`
        __insert_template_suffix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string"},'"values("'),s(`
        `),n("span",{class:"token keyword"},"for"),s(" k "),n("span",{class:"token keyword"},"in"),s(" obj"),n("span",{class:"token punctuation"},"."),s("keys"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            __insert_template_prefix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_prefix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("k"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},",'")]),s(`
            `),n("span",{class:"token keyword"},"if"),s(" obj"),n("span",{class:"token punctuation"},"["),s("k"),n("span",{class:"token punctuation"},"]"),s(),n("span",{class:"token keyword"},"is"),s(),n("span",{class:"token keyword"},"not"),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(" k "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'geom'"),n("span",{class:"token punctuation"},":"),s(`
                    __insert_template_suffix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_suffix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("obj"),n("span",{class:"token punctuation"},"["),s("k"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},',"')]),s(`
                `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                    __insert_template_suffix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_suffix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("obj"),n("span",{class:"token punctuation"},"["),s("k"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},`',"`)]),s(`
            `),n("span",{class:"token keyword"},"else"),n("span",{class:"token punctuation"},":"),s(`
                __insert_template_suffix__ `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},'f"'),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_suffix__"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},'null,"')]),s(`
        sql `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_prefix__"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),n("span",{class:"token format-spec"},"-1]"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},") "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("__insert_template_suffix__"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},":"),n("span",{class:"token format-spec"},"-1]"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},");'")]),s(`
        `),n("span",{class:"token keyword"},"return"),s(` sql
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),P=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"if"),s(" __name__ "),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token string"},"'__main__'"),n("span",{class:"token punctuation"},":"),s(`
    filename `),n("span",{class:"token operator"},"="),s(" sys"),n("span",{class:"token punctuation"},"."),s("argv"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},"]"),s(`
    tbl `),n("span",{class:"token operator"},"="),s(" sys"),n("span",{class:"token punctuation"},"."),s("argv"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},"]"),s(`
    mosaic_product `),n("span",{class:"token operator"},"="),s(" MaxarCatalogMosaicProducts_Parser"),n("span",{class:"token punctuation"},"("),s("tbl"),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"with"),s(),n("span",{class:"token builtin"},"open"),n("span",{class:"token punctuation"},"("),s("filename"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'r'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(" fr"),n("span",{class:"token punctuation"},":"),s(`
        line `),n("span",{class:"token operator"},"="),s(" fr"),n("span",{class:"token punctuation"},"."),s("readline"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        is_break `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"False"),s(`
        `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
            quad`),n("span",{class:"token punctuation"},","),s(" geojson "),n("span",{class:"token operator"},"="),s(" line"),n("span",{class:"token punctuation"},"."),s("split"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'|'"),n("span",{class:"token punctuation"},")"),s(`
            json_obj `),n("span",{class:"token operator"},"="),s(" json"),n("span",{class:"token punctuation"},"."),s("loads"),n("span",{class:"token punctuation"},"("),s("geojson"),n("span",{class:"token punctuation"},")"),s(`
            
            `),n("span",{class:"token keyword"},"for"),s(" f "),n("span",{class:"token keyword"},"in"),s(" json_obj"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'features'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},":"),s(`
                sql `),n("span",{class:"token operator"},"="),s(" mosaic_product"),n("span",{class:"token punctuation"},"."),s("getSql"),n("span",{class:"token punctuation"},"("),s("quad"),n("span",{class:"token punctuation"},","),s(" f"),n("span",{class:"token punctuation"},")"),s(`
                `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("sql"),n("span",{class:"token punctuation"},")"),s(`
            line `),n("span",{class:"token operator"},"="),s(" fr"),n("span",{class:"token punctuation"},"."),s("readline"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),D=n("div",{class:"language-bat line-numbers-mode","data-ext":"bat"},[n("pre",{class:"language-bat"},[n("code",null,`: parsing the data file
python  main.py ..\\1-MaxarCatalogMosaicSeamlines.geojson MosaicSeamlines > 1-Mosaicseamlines.sql

: init db
D:\\pgsql\\PostgreSQL\\14\\bin\\initdb -D .\\pgdata -Upostgres -Upostgres

`)]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),E=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token comment"},"-- create postgis extension in postgresql"),s(`
`),n("span",{class:"token keyword"},"create"),s(" extension postgis"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(" MaxarCatalogMosaicTiles"),n("span",{class:"token punctuation"},"("),s(`
    quad `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    product_id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    tile_identifier `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    cloud_cover_percentage `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    geom `),n("span",{class:"token keyword"},"geometry"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(" MaxarCatalogMosaicSeamlines"),n("span",{class:"token punctuation"},"("),s(`
    quad `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    inventory_id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    tile_identifier `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    image_identifier `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    off_nadir_angle `),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},","),s(`
    cloud_cover `),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},","),s(`
    sun_elevation `),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},","),s(`
    accuracy `),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},","),s(`
    vehicle_id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    collect_date `),n("span",{class:"token keyword"},"timestamp"),n("span",{class:"token punctuation"},","),s(`
    product_id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    product_line_name `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    geom `),n("span",{class:"token keyword"},"geometry"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(" MaxarCatalogMosaicProducts"),n("span",{class:"token punctuation"},"("),s(`
    quad `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(`
    product_name `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(` 
    product_line_name `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(` 
    collect_date_min `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(` 
    collect_date_max `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(` 
    product_id `),n("span",{class:"token keyword"},"varchar"),n("span",{class:"token punctuation"},","),s(` 
    publish_date `),n("span",{class:"token keyword"},"timestamp"),n("span",{class:"token punctuation"},","),s(` 
    resolution_meters `),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},","),s(`
    geom `),n("span",{class:"token keyword"},"geometry"),s(`
`),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),N=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` sqlite3
`),n("span",{class:"token keyword"},"import"),s(` json
`),n("span",{class:"token keyword"},"import"),s(` os
`),n("span",{class:"token keyword"},"import"),s(` shutil
`),n("span",{class:"token keyword"},"import"),s(` psycopg2
`),n("span",{class:"token keyword"},"from"),s(" psycopg2 "),n("span",{class:"token keyword"},"import"),s(` pool
`),n("span",{class:"token keyword"},"import"),s(` time
`),n("span",{class:"token keyword"},"import"),s(` threading
`),n("span",{class:"token keyword"},"import"),s(` traceback
`),n("span",{class:"token keyword"},"import"),s(" datetime "),n("span",{class:"token keyword"},"as"),s(` dt
`),n("span",{class:"token comment"},"#from tile_conf import *"),s(`


`),n("span",{class:"token keyword"},"class"),s(),n("span",{class:"token class-name"},"pg_conn"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__init__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" pg_conf"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        self`),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool "),n("span",{class:"token operator"},"="),s(" psycopg2"),n("span",{class:"token punctuation"},"."),s("pool"),n("span",{class:"token punctuation"},"."),s("ThreadedConnectionPool"),n("span",{class:"token punctuation"},"("),s(`
            `),n("span",{class:"token number"},"5"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},","),s(` 
            user    `),n("span",{class:"token operator"},"="),s(" pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'user'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
            password`),n("span",{class:"token operator"},"="),s(" pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'password'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
            host    `),n("span",{class:"token operator"},"="),s(" pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'host'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
            port    `),n("span",{class:"token operator"},"="),s(" pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'port'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),s(`
            database`),n("span",{class:"token operator"},"="),s(" pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'database'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),s(`
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"get_tbl"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token builtin"},"hasattr"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'pg_conf'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"if"),s(" self"),n("span",{class:"token punctuation"},"."),s("pg_conf"),n("span",{class:"token punctuation"},"."),s("__contains__"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
                rc `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("pg_conf"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'tbl'"),n("span",{class:"token punctuation"},"]"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` rc

    `),n("span",{class:"token comment"},"#def __new__(cls, *args, **kwargs):"),s(`
    `),n("span",{class:"token comment"},'#    if not hasattr(pg_conn, "_instance"):'),s(`
    `),n("span",{class:"token comment"},"#        with pg_conn._instance_lock:"),s(`
    `),n("span",{class:"token comment"},'#            if not hasattr(pg_conn, "_instance"):'),s(`
    `),n("span",{class:"token comment"},"#                pg_conn._instance = object.__new__(cls) "),s(`
    `),n("span",{class:"token comment"},"#    return pg_conn._instance"),s(`
        
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"getDBNode"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        rc `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token boolean"},"None"),s(`
        `),n("span",{class:"token keyword"},"while"),s(" rc "),n("span",{class:"token keyword"},"is"),s(),n("span",{class:"token boolean"},"None"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"for"),s(" i "),n("span",{class:"token keyword"},"in"),s(" self"),n("span",{class:"token punctuation"},"."),s("db_pool"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token keyword"},"not"),s(" i"),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"'locker'"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),s("locked"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
                    rc `),n("span",{class:"token operator"},"="),s(` i
        `),n("span",{class:"token keyword"},"return"),s(` rc
    
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__del__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" self"),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},":"),s(`
            self`),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("closeall"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"#查询信息"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__query__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" sql"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        pg_conn `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("getconn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" pg_conn"),n("span",{class:"token punctuation"},":"),s(`
            pg_cursor `),n("span",{class:"token operator"},"="),s(" pg_conn"),n("span",{class:"token punctuation"},"."),s("cursor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
                pg_cursor`),n("span",{class:"token punctuation"},"."),s("execute"),n("span",{class:"token punctuation"},"("),s("sql"),n("span",{class:"token punctuation"},")"),s(`
                ret `),n("span",{class:"token operator"},"="),s(" pg_cursor"),n("span",{class:"token punctuation"},"."),s("fetchall"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"except"),s(" Exception "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"pass"),s(`
            `),n("span",{class:"token keyword"},"finally"),n("span",{class:"token punctuation"},":"),s(`
                pg_cursor`),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                self`),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("putconn"),n("span",{class:"token punctuation"},"("),s("pg_conn"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(` ret

    `),n("span",{class:"token comment"},"#执行非查询sql"),s(`
    `),n("span",{class:"token keyword"},"def"),s(),n("span",{class:"token function"},"__execute__"),n("span",{class:"token punctuation"},"("),s("self"),n("span",{class:"token punctuation"},","),s(" sqls"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        sqls_data `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),n("span",{class:"token builtin"},"str"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            sqls_data`),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"elif"),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),n("span",{class:"token builtin"},"tuple"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"or"),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},"=="),s(),n("span",{class:"token builtin"},"type"),n("span",{class:"token punctuation"},"("),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
            sqls_data`),n("span",{class:"token punctuation"},"."),s("extend"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(`
            
        pg_conn `),n("span",{class:"token operator"},"="),s(" self"),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("getconn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(" pg_conn"),n("span",{class:"token punctuation"},":"),s(`
            pg_cursor `),n("span",{class:"token operator"},"="),s(" pg_conn"),n("span",{class:"token punctuation"},"."),s("cursor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"for"),s(" sql "),n("span",{class:"token keyword"},"in"),s(" sqls_data"),n("span",{class:"token punctuation"},":"),s(`
                    pg_cursor`),n("span",{class:"token punctuation"},"."),s("execute"),n("span",{class:"token punctuation"},"("),s("sql"),n("span",{class:"token punctuation"},")"),s(`
                pg_conn`),n("span",{class:"token punctuation"},"."),s("commit"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"except"),s(" Exception "),n("span",{class:"token keyword"},"as"),s(" e"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"pass"),s(`
            `),n("span",{class:"token keyword"},"finally"),n("span",{class:"token punctuation"},":"),s(`
                pg_cursor`),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
                self`),n("span",{class:"token punctuation"},"."),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("putconn"),n("span",{class:"token punctuation"},"("),s("pg_conn"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"return"),s(),n("span",{class:"token boolean"},"None"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),B=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` sys
sys`),n("span",{class:"token punctuation"},"."),s("path"),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'.'"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"from"),s(" meta_pg "),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(`
`),n("span",{class:"token keyword"},"from"),s(" thread_util "),n("span",{class:"token keyword"},"import"),s(),n("span",{class:"token operator"},"*"),s(`

task_pg_conf `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"{"),s(`
    `),n("span",{class:"token string"},"'db_info'"),n("span",{class:"token punctuation"},":"),n("span",{class:"token punctuation"},"{"),s(`
        `),n("span",{class:"token string"},"'database'"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'postgres'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string"},"'user'"),s("    "),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'postgres'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string"},"'password'"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'1234'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string"},"'host'"),s("    "),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'127.0.0.1'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string"},"'port'"),s("    "),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'5432'"),n("span",{class:"token punctuation"},","),s(`
        `),n("span",{class:"token string"},"'tbl'"),s("     "),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token string"},"'Mosaicseamlines'"),s(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),s(`
    `),n("span",{class:"token string"},"'max_conn'"),n("span",{class:"token punctuation"},":"),s(),n("span",{class:"token number"},"10"),s(`
`),n("span",{class:"token punctuation"},"}"),s(`

pg_pool `),n("span",{class:"token operator"},"="),s(" pg_conn"),n("span",{class:"token punctuation"},"("),s("task_pg_conf"),n("span",{class:"token punctuation"},")"),s(`
thread_pool `),n("span",{class:"token operator"},"="),s(" thread_util"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"10"),n("span",{class:"token punctuation"},")"),s(`

files `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token punctuation"},"["),n("span",{class:"token string"},"r'..\\parser\\0-Mosaicseamlines.sql'"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"r'..\\parser\\1-Mosaicseamlines.sql'"),n("span",{class:"token punctuation"},"]"),s(`
i `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token number"},"0"),s(`
`),n("span",{class:"token keyword"},"for"),s(),n("span",{class:"token builtin"},"file"),s(),n("span",{class:"token keyword"},"in"),s(" files"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"with"),s(),n("span",{class:"token builtin"},"open"),n("span",{class:"token punctuation"},"("),n("span",{class:"token builtin"},"file"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token string"},"'r'"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(" fr"),n("span",{class:"token punctuation"},":"),s(`
        line `),n("span",{class:"token operator"},"="),s(" fr"),n("span",{class:"token punctuation"},"."),s("readline"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token comment"},"#print(line)"),s(`
        sqls `),n("span",{class:"token operator"},"="),s(),n("span",{class:"token builtin"},"list"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"while"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
            i `),n("span",{class:"token operator"},"+="),s(),n("span",{class:"token number"},"1"),s(`
            sqls`),n("span",{class:"token punctuation"},"."),s("append"),n("span",{class:"token punctuation"},"("),s("line"),n("span",{class:"token punctuation"},")"),s(`
            `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">="),s(),n("span",{class:"token number"},"1000"),n("span",{class:"token punctuation"},":"),s(`
                `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token builtin"},"file"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("i"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),n("span",{class:"token punctuation"},")"),s(`
                thread_pool`),n("span",{class:"token punctuation"},"."),s("process"),n("span",{class:"token punctuation"},"("),s("pg_pool"),n("span",{class:"token punctuation"},"."),s("__execute__"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"str"),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
                sqls`),n("span",{class:"token punctuation"},"."),s("clear"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
            line `),n("span",{class:"token operator"},"="),s(" fr"),n("span",{class:"token punctuation"},"."),s("readline"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token builtin"},"len"),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token operator"},">"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string-interpolation"},[n("span",{class:"token string"},"f'"),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),n("span",{class:"token builtin"},"file"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},": "),n("span",{class:"token interpolation"},[n("span",{class:"token punctuation"},"{"),s("i"),n("span",{class:"token punctuation"},"}")]),n("span",{class:"token string"},"'")]),n("span",{class:"token punctuation"},")"),s(`
            thread_pool`),n("span",{class:"token punctuation"},"."),s("process"),n("span",{class:"token punctuation"},"("),s("pg_pool"),n("span",{class:"token punctuation"},"."),s("__execute__"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token punctuation"},"("),s("sqls"),n("span",{class:"token punctuation"},","),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token builtin"},"str"),n("span",{class:"token punctuation"},"("),s("i"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),s(`
thread_pool`),n("span",{class:"token punctuation"},"."),s("wait"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token comment"},"# cd F:\\01.workspace\\06.work\\srs\\sql2db & F: & F:\\temp\\python37_withgdal\\Python37\\python.exe sql2pg.py"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),Q=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token comment"},"-- copy table structure"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines_unique "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token operator"},"*"),s(),n("span",{class:"token keyword"},"from"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"limit"),s(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"index"),s(" i_seamlines_id "),n("span",{class:"token keyword"},"on"),s(" mosaicseamlines"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token comment"},"-- insert unique id"),s(`
`),n("span",{class:"token keyword"},"insert"),s(),n("span",{class:"token keyword"},"into"),s(" mosaicseamlines_unique"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token keyword"},"distinct"),s(" id "),n("span",{class:"token keyword"},"from"),s(" mosaicseamlines"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token comment"},"-- update other features based on id"),s(`
`),n("span",{class:"token keyword"},"update"),s(" mosaicseamlines_unique "),n("span",{class:"token keyword"},"set"),s(` 
    quad `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("quad"),n("span",{class:"token punctuation"},","),s(`
    inventory_id `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("quad"),n("span",{class:"token punctuation"},","),s(`
    tile_identifier `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("tile_identifier"),n("span",{class:"token punctuation"},","),s(`
    image_identifier `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("image_identifier"),n("span",{class:"token punctuation"},","),s(`
    off_nadir_angle `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("off_nadir_angle"),n("span",{class:"token punctuation"},","),s(`
    cloud_cover `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("cloud_cover"),n("span",{class:"token punctuation"},","),s(`
    sun_elevation `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("sun_elevation"),n("span",{class:"token punctuation"},","),s(`
    accuracy `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("accuracy"),n("span",{class:"token punctuation"},","),s(`
    vehicle_id `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("vehicle_id"),n("span",{class:"token punctuation"},","),s(`
    collect_date `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("collect_date"),n("span",{class:"token punctuation"},","),s(`
    product_id `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("product_id"),n("span",{class:"token punctuation"},","),s(`
    product_line_name `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("product_line_name"),n("span",{class:"token punctuation"},","),s(` 
    geom `),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s(`geom
  `),n("span",{class:"token keyword"},"from"),s(` mosaicseamlines a
  `),n("span",{class:"token keyword"},"where"),s(" mosaicseamlines_unique"),n("span",{class:"token punctuation"},"."),s("id "),n("span",{class:"token operator"},"="),s(" a"),n("span",{class:"token punctuation"},"."),s("id"),n("span",{class:"token punctuation"},";"),s(`


`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"index"),s(" i_seamlines_uid "),n("span",{class:"token keyword"},"on"),s(" mosaicseamlines_unique"),n("span",{class:"token punctuation"},"("),s("id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"index"),s(" i_seamlines_uproductid "),n("span",{class:"token keyword"},"on"),s(" mosaicseamlines_unique"),n("span",{class:"token punctuation"},"("),s("product_id"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"index"),s(" i_seamlines_ugeom "),n("span",{class:"token keyword"},"on"),s(" mosaicseamlines_unique "),n("span",{class:"token keyword"},"using"),s(" gist"),n("span",{class:"token punctuation"},"("),s("geom"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),I=n("h2",{id:"analysis-1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#analysis-1","aria-hidden":"true"},"#"),s(" Analysis")],-1),R=n("div",{class:"language-sql line-numbers-mode","data-ext":"sql"},[n("pre",{class:"language-sql"},[n("code",null,[n("span",{class:"token keyword"},"alter"),s(),n("span",{class:"token keyword"},"table"),s("  mosaicseamlines "),n("span",{class:"token keyword"},"rename"),s(),n("span",{class:"token keyword"},"to"),s(" mosaicseamlines_old"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"alter"),s(),n("span",{class:"token keyword"},"table"),s("  mosaicseamlines_unique "),n("span",{class:"token keyword"},"rename"),s(),n("span",{class:"token keyword"},"to"),s(" mosaicseamlines"),n("span",{class:"token punctuation"},";"),s(`
comments `),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"table"),s(` mosaicseamlines

`),n("span",{class:"token keyword"},"alter"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"add"),s(" area "),n("span",{class:"token keyword"},"float"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"update"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"set"),s(" area"),n("span",{class:"token operator"},"="),s("st_area"),n("span",{class:"token punctuation"},"("),s("geography"),n("span",{class:"token punctuation"},"("),s("geom"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"alter"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"add"),s(),n("span",{class:"token keyword"},"column"),s(" collect_year "),n("span",{class:"token keyword"},"int"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"update"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"set"),s(" collect_year "),n("span",{class:"token operator"},"="),s("EXTRACT"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"year"),s(),n("span",{class:"token keyword"},"from"),s(" collect_date"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},";"),s(`


`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'The meta of vivid mosaicseamlines without duplication'"),n("span",{class:"token punctuation"},";"),s(`
`),n("span",{class:"token keyword"},"comment"),s(),n("span",{class:"token keyword"},"on"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines_old "),n("span",{class:"token operator"},"is"),s(),n("span",{class:"token string"},"'The meta of vivid mosaicseamlines with duplication'"),n("span",{class:"token punctuation"},";"),s(`

`),n("span",{class:"token keyword"},"create"),s(),n("span",{class:"token keyword"},"table"),s(" mosaicseamlines_aear_statistic "),n("span",{class:"token keyword"},"as"),s(),n("span",{class:"token keyword"},"select"),s(),n("span",{class:"token function"},"sum"),n("span",{class:"token punctuation"},"("),s("area"),n("span",{class:"token punctuation"},")"),s(" area"),n("span",{class:"token punctuation"},","),s(" product_id"),n("span",{class:"token punctuation"},","),s(" collect_year "),n("span",{class:"token keyword"},"from"),s(" mosaicseamlines "),n("span",{class:"token keyword"},"group"),s(),n("span",{class:"token keyword"},"by"),s(" product_id"),n("span",{class:"token punctuation"},","),s(" collect_year"),n("span",{class:"token punctuation"},";"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1);function W(L,O){const i=c("ChartJS"),p=c("Mermaid"),l=c("CodeTabs");return r(),k("div",null,[v,n("details",_,[g,o(i,{id:"chart-4",config:"eJxlkU1PwzAMhu/9FZHPPWzSNgG3ceEI4oJg2iFdvC6SlVRJKlZQ/zt2OvWDHZI4j2P7tfNbKAWpaxCeFFQ6QCmgoba2jpG4+W500qQrpDgyptqdLj5IIDqTAwdMtpbYJT17l2bBTKL9karrzQ31+ZS9zyKk6CRhLH+Ad+S8Cp6pRTk/kch/i/USEJ0Yb21oKDtfg3Y1wnHQkXNGTDnPTIq+WkHQjXqn+ofdtlTbx1I9rHit2d7xYrZZ3bIO/Vkifn3WFLGc8coHg+HDmnSRZhe9HsdefZOsd9N0wTqD1/0/WRBPmnDxB91yphXyv+3TFwbPjhRavB9u0Rd/PiV3zw==",title:"A%20bar%20chart",type:"json"})]),y,w,o(p,{id:"mermaid-14",code:"eJw1j0HLwjAMhu/7FTl96KF/4EMEdSqCp+lteIhtdMWuGWuciPjfbTvtpQl53odEKVWIFUf/cGwIup41hQAX7mGwgzXQkiAYFCwSenH80A32AvuqgPiCxGYyOaRvOlVqDjd61lsSwBCyKvanjMYCEnAlSb665Id3jCbbR+Q7yth3lbqilgeC8t45q1Ese5id+zksvIFd23HcRRjK5Wj4HZAMGl29Qqfvboz95VxFKTPSkUjg2pvXa2O9Dc37XXwA8mBZNw=="}),f,o(l,{id:"134",data:[{id:"dg_downloader"},{id:"tile_util"},{id:"thread_util"}]},{title0:a(({value:t,isActive:e})=>[s("dg_downloader")]),title1:a(({value:t,isActive:e})=>[s("tile_util")]),title2:a(({value:t,isActive:e})=>[s("thread_util")]),tab0:a(({value:t,isActive:e})=>[h]),tab1:a(({value:t,isActive:e})=>[x]),tab2:a(({value:t,isActive:e})=>[q]),_:1}),T,o(l,{id:"148",data:[{id:"retrive data"},{id:"tile_util sample"}]},{title0:a(({value:t,isActive:e})=>[s("retrive data")]),title1:a(({value:t,isActive:e})=>[s("tile_util sample")]),tab0:a(({value:t,isActive:e})=>[j]),tab1:a(({value:t,isActive:e})=>[S]),_:1}),M,A,C,G,o(p,{id:"mermaid-177",code:"eJxVj7FuAyEMhvd7Cr8AS8cOldomkSJ1qKLbUAbATg6JwMlwvUpR3r2YaxKdF2zz8f8/Sqmu+BLoFfqBYOTkKGc4Ja49/Y8+njsBTyHNbjBc4OvQQa082TObcQBGfaBL+iHYTGPwzhSf4rExUuiZnKyg/3gsc6lK+tuw6AOaYo6g1NsLWr2/jKm6lASburYm01Or3gvGzU6/O5cYRaDCOzJlYtqjDAuwvKOI67z0KwZ62w6h5bOGCZ8+kebeBv3JVZRgphAeUAsLvbGBWmTwLe899gpbB2Bs/GLf2m3E63Xno8/D7db9AQE6gWc="}),o(l,{id:"178",data:[{id:"Parsing data to sql"},{id:"Parsing Executable"},{id:"Parsing example"},{id:"Create table in postgresql"},{id:"pg_conn"},{id:"Export to PG"},{id:"Remove Duplication"}]},{title0:a(({value:t,isActive:e})=>[s("Parsing data to sql")]),title1:a(({value:t,isActive:e})=>[s("Parsing Executable")]),title2:a(({value:t,isActive:e})=>[s("Parsing example")]),title3:a(({value:t,isActive:e})=>[s("Create table in postgresql")]),title4:a(({value:t,isActive:e})=>[s("pg_conn")]),title5:a(({value:t,isActive:e})=>[s("Export to PG")]),title6:a(({value:t,isActive:e})=>[s("Remove Duplication")]),tab0:a(({value:t,isActive:e})=>[F]),tab1:a(({value:t,isActive:e})=>[P]),tab2:a(({value:t,isActive:e})=>[D]),tab3:a(({value:t,isActive:e})=>[E]),tab4:a(({value:t,isActive:e})=>[N]),tab5:a(({value:t,isActive:e})=>[B]),tab6:a(({value:t,isActive:e})=>[Q]),_:1}),I,o(l,{id:"210",data:[{id:"Analysis script"}]},{title0:a(({value:t,isActive:e})=>[s("Analysis script")]),tab0:a(({value:t,isActive:e})=>[R]),_:1})])}const J=u(b,[["render",W],["__file","vivid_retrive_and_analysis.html.vue"]]);export{J as default};
