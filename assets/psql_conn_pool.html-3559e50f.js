import{_ as r}from"./plugin-vue_export-helper-c27b6911.js";import{r as t,o as u,c as k,e as c,w as a,b as n,d as s,f as d}from"./app-49149863.js";const m={},b=n("h2",{id:"the-class-diagram-for-connection-pool",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#the-class-diagram-for-connection-pool","aria-hidden":"true"},"#"),s(" The class diagram for connection pool")],-1),h=d('<h2 id="explaination" tabindex="-1"><a class="header-anchor" href="#explaination" aria-hidden="true">#</a> Explaination</h2><ul><li><strong>SimpleConnectionPool</strong>: This class is suitable only for single-threaded applications. i.e., If we create a connection pool using this class, then we can’t share this across different threads. So use this class to manage the connection pool only when you have a single-threaded application.</li><li><strong>ThreadedConnectionPool</strong>: As the name suggests, this class used in a multithreaded environment. i.e., the connection pool created using this class can be shared between multiple threads.</li><li><strong>PersistentConnectionPool</strong>: This class is used in the multithread application, where a pool assigns persistent connections to different threads. As the name suggests, each thread gets a single connection from the pool, i.e., the thread can’t use more than one connection from the pool.</li></ul><h2 id="examples" tabindex="-1"><a class="header-anchor" href="#examples" aria-hidden="true">#</a> Examples</h2>',3),v=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` psycopg2
`),n("span",{class:"token keyword"},"from"),s(" psycopg2 "),n("span",{class:"token keyword"},"import"),s(` pool

`),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
    postgreSQL_pool `),n("span",{class:"token operator"},"="),s(" psycopg2"),n("span",{class:"token punctuation"},"."),s("pool"),n("span",{class:"token punctuation"},"."),s("SimpleConnectionPool"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},","),s(" user"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"postgres"'),n("span",{class:"token punctuation"},","),s(`
                                                         password`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"pass@#29"'),n("span",{class:"token punctuation"},","),s(`
                                                         host`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"127.0.0.1"'),n("span",{class:"token punctuation"},","),s(`
                                                         port`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"5432"'),n("span",{class:"token punctuation"},","),s(`
                                                         database`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"postgres_db"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("postgreSQL_pool"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Connection pool created successfully"'),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"# Use getconn() to Get Connection from connection pool"),s(`
    ps_connection `),n("span",{class:"token operator"},"="),s(" postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("getconn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ps_connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"successfully recived connection from connection pool "'),n("span",{class:"token punctuation"},")"),s(`
        ps_cursor `),n("span",{class:"token operator"},"="),s(" ps_connection"),n("span",{class:"token punctuation"},"."),s("cursor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        ps_cursor`),n("span",{class:"token punctuation"},"."),s("execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from mobile"'),n("span",{class:"token punctuation"},")"),s(`
        mobile_records `),n("span",{class:"token operator"},"="),s(" ps_cursor"),n("span",{class:"token punctuation"},"."),s("fetchall"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Displaying rows from mobile table"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"for"),s(" row "),n("span",{class:"token keyword"},"in"),s(" mobile_records"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("row"),n("span",{class:"token punctuation"},")"),s(`

        ps_cursor`),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"# Use this method to release the connection object and send back to connection pool"),s(`
        postgreSQL_pool`),n("span",{class:"token punctuation"},"."),s("putconn"),n("span",{class:"token punctuation"},"("),s("ps_connection"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Put away a PostgreSQL connection"'),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"except"),s(),n("span",{class:"token punctuation"},"("),s("Exception"),n("span",{class:"token punctuation"},","),s(" psycopg2"),n("span",{class:"token punctuation"},"."),s("DatabaseError"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(" error"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Error while connecting to PostgreSQL"'),n("span",{class:"token punctuation"},","),s(" error"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"finally"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token comment"},"# closing database connection."),s(`
    `),n("span",{class:"token comment"},"# use closeall() method to close all the active connection if you want to turn of the application"),s(`
    `),n("span",{class:"token keyword"},"if"),s(" postgreSQL_pool"),n("span",{class:"token punctuation"},":"),s(`
        postgreSQL_pool`),n("span",{class:"token punctuation"},"."),s(`closeall
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"PostgreSQL connection pool is closed"'),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),g=n("div",{class:"language-python line-numbers-mode","data-ext":"py"},[n("pre",{class:"language-python"},[n("code",null,[n("span",{class:"token keyword"},"import"),s(` psycopg2
`),n("span",{class:"token keyword"},"from"),s(" psycopg2 "),n("span",{class:"token keyword"},"import"),s(` pool

`),n("span",{class:"token keyword"},"try"),n("span",{class:"token punctuation"},":"),s(`
    threaded_postgreSQL_pool `),n("span",{class:"token operator"},"="),s(" psycopg2"),n("span",{class:"token punctuation"},"."),s("pool"),n("span",{class:"token punctuation"},"."),s("ThreadedConnectionPool"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"5"),n("span",{class:"token punctuation"},","),s(),n("span",{class:"token number"},"20"),n("span",{class:"token punctuation"},","),s(" user"),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"postgres"'),n("span",{class:"token punctuation"},","),s(`
                                                                    password`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"pass@#29"'),n("span",{class:"token punctuation"},","),s(`
                                                                    host`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"127.0.0.1"'),n("span",{class:"token punctuation"},","),s(`
                                                                    port`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"5432"'),n("span",{class:"token punctuation"},","),s(`
                                                                    database`),n("span",{class:"token operator"},"="),n("span",{class:"token string"},'"postgres_db"'),n("span",{class:"token punctuation"},")"),s(`
    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Connection pool created successfully using ThreadedConnectionPool"'),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token comment"},"# Use getconn() method to Get Connection from connection pool"),s(`
    ps_connection `),n("span",{class:"token operator"},"="),s(" threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},"."),s("getconn"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

    `),n("span",{class:"token keyword"},"if"),s(),n("span",{class:"token punctuation"},"("),s("ps_connection"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},":"),s(`

        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"successfully recived connection from connection pool "'),n("span",{class:"token punctuation"},")"),s(`
        ps_cursor `),n("span",{class:"token operator"},"="),s(" ps_connection"),n("span",{class:"token punctuation"},"."),s("cursor"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`
        ps_cursor`),n("span",{class:"token punctuation"},"."),s("execute"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"select * from mobile"'),n("span",{class:"token punctuation"},")"),s(`
        mobile_records `),n("span",{class:"token operator"},"="),s(" ps_cursor"),n("span",{class:"token punctuation"},"."),s("fetchmany"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"2"),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Displaying rows from mobile table"'),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"for"),s(" row "),n("span",{class:"token keyword"},"in"),s(" mobile_records"),n("span",{class:"token punctuation"},":"),s(`
            `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),s("row"),n("span",{class:"token punctuation"},")"),s(`

        ps_cursor`),n("span",{class:"token punctuation"},"."),s("close"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),s(`

        `),n("span",{class:"token comment"},"# Use this method to release the connection object and send back ti connection pool"),s(`
        threaded_postgreSQL_pool`),n("span",{class:"token punctuation"},"."),s("putconn"),n("span",{class:"token punctuation"},"("),s("ps_connection"),n("span",{class:"token punctuation"},")"),s(`
        `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Put away a PostgreSQL connection"'),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"except"),s(),n("span",{class:"token punctuation"},"("),s("Exception"),n("span",{class:"token punctuation"},","),s(" psycopg2"),n("span",{class:"token punctuation"},"."),s("DatabaseError"),n("span",{class:"token punctuation"},")"),s(),n("span",{class:"token keyword"},"as"),s(" error"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Error while connecting to PostgreSQL"'),n("span",{class:"token punctuation"},","),s(" error"),n("span",{class:"token punctuation"},")"),s(`

`),n("span",{class:"token keyword"},"finally"),n("span",{class:"token punctuation"},":"),s(`
    `),n("span",{class:"token comment"},"# closing database connection."),s(`
    `),n("span",{class:"token comment"},"# use closeall() method to close all the active connection if you want to turn of the application"),s(`
    `),n("span",{class:"token keyword"},"if"),s(" threaded_postgreSQL_pool"),n("span",{class:"token punctuation"},":"),s(`
        threaded_postgreSQL_pool`),n("span",{class:"token punctuation"},"."),s(`closeall
    `),n("span",{class:"token keyword"},"print"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},'"Threaded PostgreSQL connection pool is closed"'),n("span",{class:"token punctuation"},")"),s(`
`)])]),n("div",{class:"line-numbers","aria-hidden":"true"},[n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"}),n("div",{class:"line-number"})])],-1),y=n("h2",{id:"references",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#references","aria-hidden":"true"},"#"),s(" References")],-1),_={href:"https://pynative.com/psycopg2-python-postgresql-connection-pooling/",target:"_blank",rel:"noopener noreferrer"};function f(w,x){const l=t("Mermaid"),i=t("CodeTabs"),p=t("ExternalLinkIcon");return u(),k("div",null,[b,c(l,{id:"mermaid-3",code:"eJyNkEEKwkAMRfc9RZYKnQsUuxDFpRT0AuM01MF0pkziQtS723YoitZqFlnkv/8hXymViBXCDFbeOTRivYPCe0o6yZBmXltdBV0n0M7ywBK0kSfcsbC4KQUFBrYs6N7UCWMGFYppT7MTXvKtdzifpJtzpLsV7ykMzhQMecZ8o4l/xPSgJppNYfGpna0bwr8fiqb9MaAusRyx9Y2Opl57/f5Cjcd8ct+KH8gHxUKnXw=="}),h,c(i,{id:"27",data:[{id:"SimpleConnectionPool"},{id:"ThreadedConnectionPool"}]},{title0:a(({value:e,isActive:o})=>[s("SimpleConnectionPool")]),title1:a(({value:e,isActive:o})=>[s("ThreadedConnectionPool")]),tab0:a(({value:e,isActive:o})=>[v]),tab1:a(({value:e,isActive:o})=>[g]),_:1}),y,n("p",null,[n("a",_,[s("https://pynative.com/psycopg2-python-postgresql-connection-pooling/"),c(p)])])])}const Q=r(m,[["render",f],["__file","psql_conn_pool.html.vue"]]);export{Q as default};
